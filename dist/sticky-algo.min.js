!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.StickyAlgo=t():e.StickyAlgo=t()}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=1)}([function(e,t,i){const n=i(2);e.exports=i(3).default,e.exports.helpers=i(4).default,e.exports.defaultGridOptions=n.defaultGridOptions,e.exports.defaultItemOptions=n.defaultItemOptions,e.exports.renderModeType=n.renderModeType,e.exports.resizeOptions=n.resizeOptions,e.exports.defaultPlaceholderStyles=n.defaultPlaceholderStyles},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return a});var n=i(0),r=i.n(n);function o(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){u(e,t,i[t])})}return e}function u(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function d(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,u;return t=e,(i=[{key:"getItemInitialData",value:function(e){return{previousX:e.x,previousY:e.y,previousWidth:e.width,previousHeight:e.height}}},{key:"run",value:function(e,t,i,n,o,u){var d=this,a=(e.grid,e.gridOptions,e.items),l=s({},t),c={};a.forEach(function(e){return c[e.id]=e}),this._setOptions(e);var h=this.placeItem(this._grid,c,l,i,n,o,u);if(null==h)return{success:!1};var f={};return h.forEach(function(e){var t=c[e.id],i=s({},t);d._updateItem(i,e.newX,e.newY,e.newWidth,e.newHeight),r.a.updateGridWithItemMovement(d._grid,i,t.x,t.y,t.width,t.height),d._registerItemMovement(e.newX,e.newY,e.newWidth,e.newHeight),f[t.id]=i}),this.setPreviousMovements(f[l.id]),this.revertPreviousMovements(s({},c,f)).forEach(function(e){f[e.id]=e,d._registerItemMovement(e.x,e.y,e.width,e.height)}),this.printGrid(),{success:!0,itemsToMove:f,gridRows:this._gridRows,gridColumns:this._gridColumns}}},{key:"onGridItemRemoved",value:function(e,t){var i={};return this._setOptions(e),e.items.forEach(function(e){return i[e.id]=e}),this.revertPreviousMovements(i)}},{key:"printGrid",value:function(){if(window.DEBUG_ALGO){console.clear();for(var e=0;e<this._grid.length;e++){var t=this._grid[e];if(t){for(var i="",n=0;n<t.length;n++)i+=t[n]?t[n].id.toString().padEnd(3):"   ";console.log(i)}else console.log(" ")}}}},{key:"placeItem",value:function(e,t,i,n,r,o,s){var u=this,d=this._getCollisions(t,e,n,r,o,s,[i.id]),a=this._findLargestGluedElement(d);if(null!=a)return this.placeItem(e,t,i,n,a.y+a.height,o,s);i.newX=n,i.newY=r,i.newWidth=o,i.newHeight=s;var l=[i];return d.forEach(function(i){var n=u._canResizeX&&!u._canResizeY?i.x+o:i.x,d=u._canResizeY?Math.max(i.y,r)+s:i.y,a=u.placeItem(e,t,i,n,d,i.width,i.height);if(null==a)return null;l=l.concat(a)}),l}},{key:"addItemToGrid",value:function(e,t,i,n,r){var s=[].concat(o(n),[r]);return this.run(e,t,i,s,r,r.x,r.y,r.width,r.height)}},{key:"setPreviousMovements",value:function(e){e.algoData.previousX=e.x,e.algoData.previousY=e.y}},{key:"revertPreviousMovements",value:function(e){var t=this,i=Object.keys(e).map(function(t){return e[t]}).filter(function(e){return e.x!==e.algoData.previousX||e.y!==e.algoData.previousY}).sort(function(e,t){return e.y-t.y||e.x-t.x}),n=[];return i.forEach(function(e){var i=e.algoData,o=i.previousX,s=i.previousY;if(t._getCloserPosition(e,o,s)){var u=e.x,d=e.y;t._updateItem(e,e.newX,e.newY,e.width,e.height),r.a.updateGridWithItemMovement(t._grid,e,u,d,e.width,e.height),n.push(e)}}),n}},{key:"_setOptions",value:function(e){var t=e.gridOptions,i=e.grid,n=t.itemsCanResizeGrid,r=t.resizeGridDirections,o=t.gridRows,s=t.gridColumns;this._gridOptions=t,this._canResizeX=n&&"y"!==r,this._canResizeY=n&&"x"!==r,this._gridRows=o,this._gridColumns=s,this._grid=i}},{key:"_updateItem",value:function(e,t,i,n,r){e.x=t,e.y=i,e.width=n,e.height=r}},{key:"_registerItemMovement",value:function(e,t,i,n){this._canResizeY&&(this._gridRows=Math.max(this._gridRows,t+n)),this._canResizeX&&(this._gridColumns=Math.max(this._gridColumns,e+i))}},{key:"_getCloserPosition",value:function(e,t,i){var n=e.y-i,r=e.x-t,o=Math.sign(n),s=Math.sign(r),u=t,d=i;if(r+n===0)return!1;for(;;){if(this._canFit(u,d,e.width,e.height,e.id))return e.newX=u,e.newY=d,!0;if(u!==e.x&&(u+=s),d!==e.y&&(d+=o),u===e.x&&(s=0),d===e.y&&(o=0),s+o===0)return!1}}},{key:"_canFit",value:function(e,t,i,n,r){var o=this._gridOptions,s=o.gridColumns,u=o.gridRows;if(e+i>s&&!this._canResizeX||e<0||t+n>u&&!this._canResizeY||t<0)return!1;for(var d=t;d<t+n;d++){var a=this._grid[d];if(a){for(var l=e;l<e+i;l++)if(a[l]&&a[l].id!=r)return!1}else this._grid[d]=[]}return!0}},{key:"_findLargestGluedElement",value:function(e){var t=e.filter(function(e){return e.glued}),i=t.length;if(0===i)return null;for(var n=t[0],r=1;r<i;r++){var o=t[r];n=this._canResizeX?n.width+n.x>o.width+o.x?n:o:n.height+n.y>o.height+o.y?n:o}return n}},{key:"_getCollisions",value:function(e,t,i,r,o,s,u){for(var d=r+s,a=i+o,l=[],c=r;c<d;c++){t[c]=t[c]||[];for(var h=i;h<a;h++){var f=t[c][h];if(f){-1==u.indexOf(f.id)&&f.visible&&!n.helpers.objIsInArray(l,f,"id")&&l.push(f);var g=f.x+f.width-1;if(g<h)throw"x invalid for grid item - incorrectly placed in grid";h=g}}}return l}}])&&d(t.prototype,i),u&&d(t,u),e}()},function(e,t,i){var n;"undefined"!=typeof self&&self,n=function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s="./src/options.js")}({"./src/options.js":
/*!************************!*\
  !*** ./src/options.js ***!
  \************************/
/*! exports provided: renderModeType, resizeOptions, defaultItemOptions, defaultGridOptions, defaultPlaceholderStyles */function(e,t,i){"use strict";i.r(t),i.d(t,"renderModeType",function(){return n}),i.d(t,"resizeOptions",function(){return r}),i.d(t,"defaultItemOptions",function(){return o}),i.d(t,"defaultGridOptions",function(){return u}),i.d(t,"defaultPlaceholderStyles",function(){return s});var n={flex:"flex",fixed:"fixed"},r={none:"none",x:"x",y:"y",both:"both"},o={x:0,y:0,width:1,height:1,className:"grid-item",glued:!1,visible:!0,displayResize:!0,position:{topPx:0,leftPx:0,topPct:0,leftPct:0,widthPx:0,heightPx:0,widthPct:0,heightPct:0,ending:"px"},meta:{isDragging:!1,isResizing:!1}},s={position:"absolute",border:"2px dashed grey",zIndex:-1},u={gridColumns:12,gridRows:12,width:"100%",height:"100%",className:"curator-grid",renderMode:n.flex,stickyElements:!0,itemsCanResizeGrid:!0,resizeGridDirections:r.y,useTransition:!0,transitionDuration:600,onTransitionComplete:function(e,t,i){},onAllTransitionsComplete:function(e,t,i){},resizeClassName:"resize-handle",enableCSS3:!0,algo:null}}})},e.exports=n()},function(e,t,i){var n;"undefined"!=typeof self&&self,n=function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s="./src/curator-core.js")}({"./src/curator-core.js":
/*!*****************************!*\
  !*** ./src/curator-core.js ***!
  \*****************************/
/*! exports provided: default */function(e,t,i){"use strict";i.r(t);var n=i(/*! ./helpers */"./src/helpers.js"),r=i(/*! ./options */"./src/options.js");function o(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){u(e,t,i[t])})}return e}function u(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}t.default={getItemStyles:function(){return{boxSizing:"border-box",position:"absolute"}},getEmptyGrid:function(e){return Array.from(Array(e),function(e){return[]})},getItemPosition:function(e,t,i,n,o,u,d,a,l){return l===r.renderModeType.flex?s({},this.getItemPositionPixels(e,t,i,n,o,u,d,a),this.getItemPositionPercentages(e,t,i,n,o,u,d,a)):this.getItemPositionPixels(e,t,i,n,o,u,d,a)},getItemPositionPercentages:function(e,t,i,n,r,o,s,u){return{leftPct:s/n*100,widthPct:r/n*100,topPct:u/i*100,heightPct:o/i*100,ending:"%"}},getItemPositionPixels:function(e,t,i,n,r,o,s,u){return{widthPx:e/n*r,heightPx:t/i*o,topPx:t/i*u,leftPx:e/n*s,ending:"px"}},updateMovedItem:function(e,t,i){var n=e.newX,r=e.newY,o=e.newWidth,u=e.newHeight,d=(t.widthPx,t.heightPx,t.gridRows),a=t.gridColumns,l=i.renderMode,c=s({},e);if(!o||!u)return console.error("Item ".concat(key," does not have a newWidth or newHeight value. Unable to correctly resize item")),e;c.x=n,c.y=r,c.width=o,c.height=u;var h=this.getItemPosition(gridWidth,gridHeight,d,a,c.width,c.height,c.x,c.y,l),f=this.getItemPositionStyles(i,c.styles,h);return c.position=s({},h),c.styles=s({},f),c},getUpdatedMovedItems:function(e,t,i,n,r,o,u,d){var a=this;return e.forEach(function(e){var l=a.updateMovedItem(e,u,d);if(key===t){var c=s({},l.position,{ending:"px",topPx:i,leftPx:n,widthPx:r,heightPx:o}),h=a.getItemPositionStyles(d,l.styles,c);l.position=s({},c),l.styles=s({},h)}return l})},getUpdatedGridSizeItems:function(e,t,i){var n=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=t.gridRows,u=t.gridColumns,d=t.renderMode,a=i.heightPx,l=i.widthPx;return e.map(function(e){if(!(r.indexOf(e.id)>-1)){var i=n.getItemPosition(l,a,o,u,e.width,e.height,e.x,e.y,d);return s({},e,{position:i,styles:n.getItemPositionStyles(t,e.styles,i)})}})},getGridBoundaries:function(e){return{leftBoundary:0,rightBoundary:e.widthPx,topBoundary:0,bottomBoundary:e.heightPx}},getItemSizing:function(e,t){var i=t.widthPx,n=t.heightPx,r=e.width,o=e.height;return{itemWidthPx:r*(i/gridColumns),itemHeightPx:o*(n/gridRows)}},calculateGridMatrixSize:function(e,t,i){var n=t.itemsCanResizeGrid,r=t.resizeGridDirections,o=i.gridRows,s=i.gridColumns,u=n&&"y"!==r,d=n&&"x"!==r;if(!u&&!d)return{rows:o,columns:s};var a=0,l=0;return e.forEach(function(e){var t=e.x+e.width,i=e.y+e.height;t>l&&(l=t),i>a&&(a=i)}),{rows:d?Math.max(a,o):o,columns:u?Math.max(l,s):s}},calculateGridSize:function(e,t,i,n){var r=t.gridRows,o=t.gridColumns;return{newGridWidth:e.widthPx/o*n,newGridHeight:e.heightPx/r*i}},calculateMovementChange:function(e,t,i,n){var r=t.itemsCanResizeGrid,o=r&&"y"!==t.resizeGridDirections,s=r&&"x"!==t.resizeGridDirections,u=i.widthPx/t.gridColumns,d=i.heightPx/t.gridRows,a=n.currentMouseX-n.initialMouseX,l=n.currentMouseY-n.initialMouseY,c=n.initialLeft+a,h=n.initialTop+l,f=Math.round(c/u),g=Math.round(h/d);return f<0?f=0:f+1>t.gridColumns&&!o&&(f=t.gridColumns-1),g<0?g=0:g+1>t.gridRows&&!s&&(g=t.gridRows-1),{newX:f,newY:g,newLeftPx:c,newTopPx:h}},calculateResizeChange:function(e,t,i,n){var r=i.widthPx/t.gridColumns,o=i.heightPx/t.gridRows,s=n.currentMouseX-n.initialMouseX,u=n.currentMouseY-n.initialMouseY,d=n.initialWidth+s,a=n.initialHeight+u,l=Math.round(d/r),c=Math.round(a/o);return d<r&&(l=1,d=r),a<o&&(c=1,a=o),{newWidthPx:d,newHeightPx:a,newWidth:l,newHeight:c,newLeftPx:e.position.leftPx,newTopPx:e.position.topPx}},calculatePositionChange:function(e,t){var i=t.gridSizing,n=t.gridOptions,r=i.widthPx/n.gridColumns,o=i.heightPx/n.gridRows;return{newWidthPx:r*e.width,newHeightPx:o*e.height,newLeftPx:r*e.x,newTopPx:o*e.y,newX:e.x,newY:e.y,newWidth:e.width,newHeight:e.height}},getNoMovementResult:function(e,t,i){var n=s({},t,{position:s({},t.position,{ending:"px",topPx:Math.max(0,i.newTopPx),leftPx:Math.max(0,i.newLeftPx),widthPx:Math.max(0,i.newWidthPx),heightPx:Math.max(0,i.newHeightPx)})}),r=e.items.map(function(e){return e.id==n.id?n:e});return{success:!0,grid:e.grid,updatedItems:r,targetItem:n,gridSizing:e.gridSizing,movementChange:i,itemsMoved:!1}},itemHasMoved:function(e,t){return t.newX!=e.x||t.newY!=e.y},itemHasResized:function(e,t){return t.newWidth!==e.width||t.newHeight!==e.height},checkProposedGridSizing:function(e,t,i){var n=e.gridOptions,o=n.itemsCanResizeGrid,s=n.resizeGridDirections,u=o&&s!==r.resizeOptions.y,d=o&&s!==r.resizeOptions.x;if(!u&&t!==n.gridColumns||n.gridColumns<1)throw"Invalid grid column proposition from algorithm";if(!d&&i!==n.gridRows||n.gridRows<1)throw"Invalid grid row proposition from algorithm"},getPlaceholderStyles:function(e){return s({},r.defaultPlaceholderStyles,{left:"".concat(e.leftPx,"px"),top:"".concat(e.topPx,"px"),width:"".concat(e.widthPx,"px"),height:"".concat(e.heightPx,"px")})},addItemToGrid:function(e,t){var i={newX:e.x,newY:e.y,newWidth:e.width,newHeight:e.height,newTopPx:e.position.topPx,newLeftPx:e.position.leftPx,newWidthPx:e.position.widthPx,newHeightPx:e.position.heightPx};return this.onItemMovement(e,t,i)},movementIsWithinBounds:function(e,t){var i=t.gridColumns,n=t.gridRows,r=t.itemsCanResizeGrid,o=t.resizeGridDirections,s=e.newX,u=e.newY,d=e.newWidth,a=e.newHeight;return(r&&"y"!==o||s+d<=i)&&(r&&"x"!==o||u+a<=n)&&s>=0&&u>=0&&d>0&&a>0},onItemMovement:function(e,t,i){var n=this,r=t.gridOptions.renderMode,o=t.gridOptions,u=this.getNoMovementResult(t,e,i),d=s({},e);if(!this.movementIsWithinBounds(i,o))return u;var a=o.algo.run(t,d,i.newX,i.newY,i.newWidth,i.newHeight);if(!a.success)return u;var l=a.gridColumns!==o.gridColumns||a.gridRows!==o.gridRows,c=t.gridSizing.widthPx,h=t.gridSizing.heightPx;if(l){this.checkProposedGridSizing(t,a.gridColumns,a.gridRows);var f=this.calculateGridSize(t.gridSizing,o,a.gridRows,a.gridColumns);c=f.newGridWidth,h=f.newGridHeight}var g=Object.keys(a.itemsToMove).map(function(e){var t=a.itemsToMove[e],u=t.meta,l=u.isDragging,f=u.isResizing,g=n.getItemPosition(c,h,a.gridRows,a.gridColumns,t.width,t.height,t.x,t.y,r);if(t.id===d.id&&(l||f)){var p=n.getPlaceholderStyles(g);t.meta=s({},t.meta,{placeholderStyles:p}),t.position=s({},t.position,{ending:"px",topPx:i.newTopPx,leftPx:i.newLeftPx,widthPx:i.newWidthPx,heightPx:i.newHeightPx}),t.styles=n.getItemPositionStyles(o,t.styles,t.position)}else t.position=g,t.styles=n.getItemPositionStyles(o,t.styles,g);return t});return{success:a.success,grid:t.grid,updatedItems:g,itemsMoved:Object.keys(a.itemsToMove).length>1,targetItem:d,movementChange:i,gridSizing:{gridRows:a.gridRows,gridColumns:a.gridColumns,heightPx:h,widthPx:c}}},onItemPositionChanged:function(e,t,i){var n=this.calculatePositionChange(e,i);return this.positionHasChanged(e,t)?this.onItemMovement(t,i,n):this.getNoMovementResult(i,t,n)},positionHasChanged:function(e,t){return e.x!==t.x||e.y!==t.y||e.width!==t.width||e.height!==t.height},onItemDragStart:function(e){if(e.glued)return{item:e,success:!1};var t=this.getPlaceholderStyles(e.position);return{item:s({},e,{meta:s({},e.meta,{isDragging:!0,placeholderStyles:t})}),success:!0}},onItemDrag:function(e,t,i){var n=s({},this.calculateMovementChange(e,t.gridOptions,t.gridSizing,i),{newWidth:e.width,newHeight:e.height,newWidthPx:e.position.widthPx,newHeightPx:e.position.heightPx});return!e.meta.isDragging||e.glued?this.getNoMovementResult(t,e,n):this.itemHasMoved(e,n)?this.onItemMovement(e,t,n):this.getNoMovementResult(t,e,n)},onItemDragStop:function(e,t,i,n,r,o){var u=e.width,d=e.height,a=e.x,l=e.y,c=r.gridRows,h=r.gridColumns,f=r.renderMode,g=s({},e.meta,{isDragging:!1}),p=this.getItemPosition(i,n,c,h,u,d,a,l,f);return s({},e,{position:p,styles:this.getItemPositionStyles(r,e.styles,p),meta:g})},onItemResizeStart:function(e){return e.glued?{item:e,success:!1}:{item:s({},e,{meta:s({},e.meta,{isResizing:!0})}),success:!0}},onItemResize:function(e,t,i){var n=s({},this.calculateResizeChange(e,t.gridOptions,t.gridSizing,i),{newX:e.x,newY:e.y,newLeftPx:e.position.leftPx,newTopPx:e.position.topPx});return!e.meta.isResizing||e.glued?this.getNoMovementResult(t,e,n):this.itemHasResized(e,n)?this.onItemMovement(e,t,n):this.getNoMovementResult(t,e,n)},onItemResizeStop:function(e,t,i,n,r,o){var u=e.width,d=e.height,a=e.x,l=e.y,c=r.gridRows,h=r.gridColumns,f=r.renderMode,g=s({},e.meta,{isResizing:!1}),p=this.getItemPosition(i,n,c,h,u,d,a,l,f);return s({},e,{position:p,styles:this.getItemPositionStyles(r,e.styles,p),meta:g})},updateGridWithItemMovement:function(e,t,i,n,r,o){var s=t.id,u=t.x,d=t.y,a=t.width,l=t.height;this.ensureGridHasRow(e,d),this.setGridWithValue(e,s,i,n,r,o,void 0,!1),this.setGridWithValue(e,s,u,d,a,l,t,!0)},updateGridWithItem:function(e,t){var i=t.id,n=t.x,r=t.y,o=t.width,s=t.height;this.setGridWithValue(e,i,n,r,o,s,t,!0)},removeGridItem:function(e,t){var i=this,n=e.grid,r=e.items,o=e.gridOptions,u=e.gridSizing,d=t.id,a=t.x,l=t.y,c=t.width,h=t.height,f=u.widthPx,g=u.heightPx,p=o.renderMode;this.ensureGridHasRow(n,l),this.setGridWithValue(n,d,a,l,c,h,void 0,!0);var m=o.algo.onGridItemRemoved(e,t);return{updatedItems:r.map(function(e){var t=m.find(function(t){return t.id===e.id});if(!t)return null;var n=t.x,r=t.y,u=t.width,d=t.height,a=s({},e,{x:n,y:r,width:u,height:d}),l=i.getItemPosition(f,g,o.gridRows,o.gridColumns,u,d,n,r,p);return a.position=l,a.styles=i.getItemPositionStyles(o,a.styles,l),a}).filter(function(e){return null!=e})}},ensureGridHasRow:function(e,t){e[t]||(e[t]=[])},setGridWithValue:function(e,t,i,r,o,s,u){for(var d=arguments.length>7&&void 0!==arguments[7]&&arguments[7],a=r;a<r+s;a++)for(var l=i;l<i+o;l++){var c=e[a][l];n.default.isDefined(c)&&c.id!=t&&!d||(e[a][l]=u)}},getItemPositionStyles:function(e,t,i){var n=t||{},r=(n.transform,n.left,n.top,o(n,["transform","left","top"]));return"%"===i.ending?s({},r,{left:"".concat(i.leftPct,"%"),top:"".concat(i.topPct,"%"),width:"".concat(i.widthPct,"%"),height:"".concat(i.heightPct,"%")}):e.enableCSS3?s({},r,{width:"".concat(i.widthPx,"px"),height:"".concat(i.heightPx,"px"),transform:"translate(".concat(i.leftPx,"px, ").concat(i.topPx,"px)")}):s({},r,{left:"".concat(i.leftPx,"px"),top:"".concat(i.topPx,"px"),width:"".concat(i.widthPx,"px"),height:"".concat(i.heightPx,"px")})},getGridXY:function(e,t,i){e.widthPx,e.heightPx;var n=e.gridRows,r=e.gridColumns;return{x:this.getGridPosition(gridWidth,i,r),y:this.getGridPosition(gridHeight,t,n)}},getGridWH:function(e,t,i,n,r){var o=r.gridRows,s=r.gridColumns;return{width:this.getGridPosition(e,i,s),height:this.getGridPosition(t,n,o)}},getGridPosition:function(e,t,i){return Math.max(1,Math.round(t/e*i))},getBoundaryLimitedSizing:function(e,t,i,n,o,s){var u=s.resizeGridDirections,d=s.itemsCanResizeGrid,a=o.rightBoundary,l=o.bottomBoundary,c=d&&u!==r.resizeOptions.y,h=d&&u!==r.resizeOptions.x;return{widthPx:c?i:Math.min(i,a-e),heightPx:h?n:Math.min(n,l-t)}}}},"./src/helpers.js":
/*!************************!*\
  !*** ./src/helpers.js ***!
  \************************/
/*! exports provided: default */function(e,t,i){"use strict";i.r(t);t.default={isDefined:function(e){return void 0!==e&&null!=e},objIsInArray:function(e,t,i){var n=t[i];return null!=e.find(function(e){return e[i]===n})}}},"./src/options.js":
/*!************************!*\
  !*** ./src/options.js ***!
  \************************/
/*! exports provided: renderModeType, resizeOptions, defaultItemOptions, defaultGridOptions, defaultPlaceholderStyles */function(e,t,i){"use strict";i.r(t),i.d(t,"renderModeType",function(){return n}),i.d(t,"resizeOptions",function(){return r}),i.d(t,"defaultItemOptions",function(){return o}),i.d(t,"defaultGridOptions",function(){return u}),i.d(t,"defaultPlaceholderStyles",function(){return s});var n={flex:"flex",fixed:"fixed"},r={none:"none",x:"x",y:"y",both:"both"},o={x:0,y:0,width:1,height:1,className:"grid-item",glued:!1,visible:!0,displayResize:!0,position:{topPx:0,leftPx:0,topPct:0,leftPct:0,widthPx:0,heightPx:0,widthPct:0,heightPct:0,ending:"px"},meta:{isDragging:!1,isResizing:!1}},s={position:"absolute",border:"2px dashed grey",zIndex:-1},u={gridColumns:12,gridRows:12,width:"100%",height:"100%",className:"curator-grid",renderMode:n.flex,stickyElements:!0,itemsCanResizeGrid:!0,resizeGridDirections:r.y,useTransition:!0,transitionDuration:600,onTransitionComplete:function(e,t,i){},onAllTransitionsComplete:function(e,t,i){},resizeClassName:"resize-handle",enableCSS3:!0,algo:null}}})},e.exports=n()},function(e,t,i){var n;"undefined"!=typeof self&&self,n=function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s="./src/helpers.js")}({"./src/helpers.js":
/*!************************!*\
  !*** ./src/helpers.js ***!
  \************************/
/*! exports provided: default */function(e,t,i){"use strict";i.r(t);t.default={isDefined:function(e){return void 0!==e&&null!=e},objIsInArray:function(e,t,i){var n=t[i];return null!=e.find(function(e){return e[i]===n})}}}})},e.exports=n()}])});