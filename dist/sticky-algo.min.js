!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.StickyAlgo=t():e.StickyAlgo=t()}(window,function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=1)}([function(e,t,i){const n=i(2);e.exports=i(3).default,e.exports.helpers=i(4).default,e.exports.defaultGridOptions=n.defaultGridOptions,e.exports.defaultItemOptions=n.defaultItemOptions,e.exports.renderModeType=n.renderModeType,e.exports.resizeOptions=n.resizeOptions,e.exports.defaultPlaceholderStyles=n.defaultPlaceholderStyles},function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return d});var n=i(0),r=i.n(n);function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){s(e,t,i[t])})}return e}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function u(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,s;return t=e,(i=[{key:"getItemInitialData",value:function(e){return{previousX:e.x,previousY:e.y,previousWidth:e.width,previousHeight:e.height}}},{key:"updatedItem",value:function(e,t,i,n,r){e.x=t,e.y=i,e.width=n,e.height=r,e.newX=t,e.newY=i,e.newWidth=n,e.newHeight=r}},{key:"onGridItemRemoved",value:function(e,t,i){var n=e.algoData,r=n.previousX,o=n.previousY;return this.revertPreviousMovements(e,r,o,t,i)}},{key:"run",value:function(e,t,i,n,s,u){var d=this,a=e.grid,l=e.gridOptions,h=e.items,c=(l.gridColumns,l.gridRows,o({},t)),f={};e.items.forEach(function(e){return f[e.id]=e});var g=this.getCollisions(f,a,i,n,s,u,[t.id]);if(this.hasHitGluedElement(g))return{success:!1};this.updatedItem(c,i,n,s,u),r.a.updateGridWithItemMovement(a,c,t.x,t.y,t.width,t.height),this.setPreviousMovements(c,!0),this._canResizeX=l.itemsCanResizeGrid&&"y"!==l.resizeGridDirections,this._canResizeY=l.itemsCanResizeGrid&&"x"!==l.resizeGridDirections;var m=this.getMoveDetails(f,a,c,i,n,s,u,g),p=m.itemsToMove,v=m.maxRows,x=m.maxCols,y={};return p.forEach(function(e){var t=f[e.id],i=o({},t);d.updatedItem(i,e.newX,e.newY,e.width,e.height),r.a.updateGridWithItemMovement(a,i,t.x,t.y,t.width,t.height),y[t.id]=i}),y[c.id]=c,this.revertPreviousMovements(c,t.x,t.y,a,l,h,g).forEach(function(e){var t=e.x,i=e.y;y[e.id]=o({},f[e.id],{x:t,y:i})}),{success:!0,itemsToMove:y,collisionCount:g.length,items:h,gridRows:Math.max(v,l.gridRows,n+u),gridColumns:Math.max(x,l.gridColumns,i+s),item:c}}},{key:"addItemToGrid",value:function(e,t,i,n,r){return this.run(e,t,i,n,r,r.x,r.y,r.width,r.height)}},{key:"setPreviousMovements",value:function(e,t){(t||e.algoData.previousX===e.x&&e.algoData.previousY===e.y)&&(e.algoData.previousX=e.x,e.algoData.previousY=e.y)}},{key:"revertPreviousMovements",value:function(e,t,i,n,r){if("y"===r.resizeGridDirections)return this.revertInYDirection(e,t,i,n,r)}},{key:"revertInYDirection",value:function(e,t,i,o,s){for(var u=s.gridRows,d=(s.gridColumns,t+e.width),a=[],l=i+e.height;l<u;l++){if(!o[l])return a;for(var h=t;h<d;h++){var c=o[l][h];if(n.helpers.isDefined(c)){if(this._getCloserPosition(c,c.algoData.previousX,c.algoData.previousY,o,s)){var f=c.x,g=c.y;c.x=c.newX,c.y=c.newY,r.a.updateGridWithItemMovement(o,c,f,g,c.width,c.height),a.push(c)}c.width+c.x>=d?(h=d,l=c.y+c.height-1):h=c.x+c.width}}}return a}},{key:"revertPreviousMovementsOld",value:function(e,t,i,n,o){var s=[],u=[];if(i.stickyElements){for(var d=n.filter(function(t){return(t.algoData.previousX!=t.x||t.algoData.previousY!=t.y)&&t.id!==e.id}).sort(function(e,t){var i=e.x-t.x;return 0!==i?i:e.y-t.y}),a=0;a<d.length;a++){var l=d[a],h=l.algoData,c=h.previousX,f=h.previousY;if(this._getCloserPosition(l,c,f,t,i)){var g=l.x,m=l.y;l.x=l.newX,l.y=l.newY,r.a.updateGridWithItemMovement(t,l,g,m,l.width,l.height),u[l.id]=l,c===l.x&&f===l.y&&s.push(l._id)}}return{revertedItems:u}}}},{key:"_getCloserPosition",value:function(e,t,i,n,r){var o=e.y-i,s=e.x-t,u=Math.sign(o),d=Math.sign(s),a=t,l=i;if(s+o===0)return!1;for(;;){if(this.canFit(a,l,e.width,e.height,e.id,n,r))return e.newX=a,e.newY=l,!0;if(a!==e.x&&(a+=d),l!==e.y&&(l+=u),a===e.x&&(d=0),l===e.y&&(u=0),d+u===0)return!1;if(a>r.gridColumns||a<0||l>r.gridRows||l<0)return!1}}},{key:"canFit",value:function(e,t,i,r,o,s,u){var d=u.gridColumns,a=u.gridRows;if(e+i>d||e<0||t+r>a||t<0)return!1;for(var l=t;l<t+r;l++){var h=s[l];if(n.helpers.isDefined(h)){for(var c=e;c<e+i;c++)if(n.helpers.isDefined(h[c])&&h[c].id!=o)return!1}else s[l]=[]}return!0}},{key:"hasHitGluedElement",value:function(e){return null!=this.findGluedElement(e)}},{key:"findGluedElement",value:function(e){return e.find(function(e){return e.glued})}},{key:"findLargestGluedElement",value:function(e){var t=e.filter(function(e){return e.glued}),i=t.length;if(0===i)return null;for(var n=t[0],r=1;r<i;r++){var o=t[r];n=this._canResizeX?n.width+n.x>o.width+o.x?n:o:n.height+n.y>o.height+o.y?n:o}return n}},{key:"getCollisions",value:function(e,t,i,r,o,s,u){for(var d=r+s,a=i+o,l=[],h=r;h<d;h++){t[h]=t[h]||[];for(var c=i;c<a;c++){var f=t[h][c];if(f){var g=e[f.id];g.visible&&-1==u.indexOf(g.id)&&!n.helpers.objIsInArray(l,g,"id")&&l.push(g);var m=g.x+g.width-1;if(m<c)throw"x invalid for grid item - incorrectly placed in grid";c=m}}}return l}},{key:"getMoveDetails",value:function(e,t,i,n,r,o,s,u){var d={},a=0,l=0;for(this.handleCollisions(n,r,o,s,u);u.length>0;){for(var h=[],c=0;c<u.length;c++){var f=u[c],g=this.getNextGluedFreeCollisions(e,t,i,f);this.handleCollisions(f.newX,f.newY,f.width,f.height,g),h=h.concat(g),d[f.id]=f;var m=f.newY+f.height,p=f.newX+f.width;m>a&&(a=m),p>l&&(l=p)}u=h}return{itemsToMove:Object.keys(d).map(function(e){return d[e]}),maxRows:a,maxCols:l}}},{key:"getNextGluedFreeCollisions",value:function(e,t,i,n){for(var r,o={},s=this._canResizeX;null!=o;)r=this.getCollisions(e,t,n.newX,n.newY,n.width,n.height,[i.id,n.id]),null!=(o=this.findLargestGluedElement(r))&&(s?n.newX=o.x+o.width:n.newY=o.y+o.height);return r}},{key:"handleCollisions",value:function(e,t,i,n,r){var o,s,u,d=0,a=0,l=Number.MAX_SAFE_INTEGER,h=Number.MAX_SAFE_INTEGER;if(0!==r.length){if(this._canResizeX){for(s=0,o=r.length;s<o;s++)u=r[s],h=Math.min(h,u.x);a=Math.max(0,e-h)+i-Math.max(0,h-e)}else{for(s=0,o=r.length;s<o;s++)u=r[s],l=Math.min(l,u.y);d=Math.max(0,t-l)+n-Math.max(0,l-t)}for(s=0,o=r.length;s<o;s++)(u=r[s]).newX=u.x+a,u.newY=u.y+d,this.setPreviousMovements(u,!1)}}}])&&u(t.prototype,i),s&&u(t,s),e}()},function(e,t,i){var n;window,n=function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s="./src/options.js")}({"./src/options.js":
/*!************************!*\
  !*** ./src/options.js ***!
  \************************/
/*! exports provided: renderModeType, resizeOptions, defaultItemOptions, defaultGridOptions, defaultPlaceholderStyles */function(e,t,i){"use strict";i.r(t),i.d(t,"renderModeType",function(){return n}),i.d(t,"resizeOptions",function(){return r}),i.d(t,"defaultItemOptions",function(){return o}),i.d(t,"defaultGridOptions",function(){return u}),i.d(t,"defaultPlaceholderStyles",function(){return s});var n={flex:"flex",fixed:"fixed"},r={none:"none",x:"x",y:"y",both:"both"},o={x:0,y:0,width:1,height:1,classes:[],glued:!1,visible:!0,canResize:!0,displayResize:!0,position:{topPx:0,leftPx:0,topPct:0,leftPct:0,widthPx:0,heightPx:0,widthPct:0,heightPct:0,ending:"px"},meta:{isDragging:!1}},s={position:"absolute",border:"2px dashed grey",zIndex:-1},u={gridColumns:12,gridRows:12,width:"100%",height:"100%",itemClassName:"grid-item",classes:[],renderMode:n.flex,stickyElements:!0,itemsCanResizeGrid:!0,resizeGridDirections:r.y,useTransition:!0,transitionDuration:600,onTransitionComplete:function(e,t,i){},onAllTransitionsComplete:function(e,t,i){},resizeClassName:"snap-resize-handle",enableCSS3:!0,algorithm:null}}})},e.exports=n()},function(e,t,i){var n;window,n=function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s="./src/curator-core.js")}({"./src/curator-core.js":
/*!*****************************!*\
  !*** ./src/curator-core.js ***!
  \*****************************/
/*! exports provided: default */function(e,t,i){"use strict";i.r(t);var n=i(/*! ./helpers */"./src/helpers.js"),r=i(/*! ./options */"./src/options.js");function o(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){u(e,t,i[t])})}return e}function u(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function d(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t.default={getItemStyles:function(){return{boxSizing:"border-box",position:"absolute"}},getItemClasses:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.defaultItemOptions,t=d(e.classes).concat([e.itemClassName]);return e.glued&&t.push("snapper-glued"),t},getEmptyGrid:function(e){for(var t=[],i=0;i<e;i++)t.push([]);return t},getItemPosition:function(e,t,i,n,o,u,d,a,l){return l===r.renderModeType.flex?s({},this.getItemPositionPixels(e,t,i,n,o,u,d,a),this.getItemPositionPercentages(e,t,i,n,o,u,d,a)):this.getItemPositionPixels(e,t,i,n,o,u,d,a)},getItemPositionPercentages:function(e,t,i,n,r,o,s,u){var d=Math.floor(e/n),a=Math.floor(t/i),l=e-d*n,h=t-a*i,c=49/e/100,f=49/t/100,g=Math.min(s,l),m=Math.min(r+s,l)-g,p=Math.min(u,h);return{leftPct:100*(s*d+g)/e+c,widthPct:100*(r*d+m)/e+c,topPct:100*(u*a+p)/t+f,heightPct:100*(o*a+(Math.min(o+u,h)-p))/t+f,ending:"%"}},getItemPositionPixels:function(e,t,i,n,r,o,s,u){var d=Math.floor(e/n),a=Math.floor(t/i),l=e-d*n,h=t-a*i,c=Math.min(s,l),f=Math.min(r+s,l)-c,g=Math.min(u,h);return{widthPx:d*r+f,heightPx:a*o+(Math.min(o+u,h)-g),topPx:a*u+g,leftPx:d*s+c,ending:"px"}},updateMovedItem:function(e,t,i){var n=e.newX,r=e.newY,o=e.newWidth,u=e.newHeight,d=t.gridWidth,a=t.gridHeight,l=t.gridRows,h=t.gridColumns,c=i.renderMode,f=s({},e);if(!o||!u)return console.error("Item ".concat(key," does not have a newWidth or newHeight value. Unable to correctly resize item")),e;f.x=n,f.y=r,f.width=o,f.height=u;var g=this.getItemPosition(d,a,l,h,f.width,f.height,f.x,f.y,c),m=this.getItemPositionStyles(i,f.styles,g);return f.position=s({},g),f.styles=s({},m),f},updateGridWithMovedItems:function(e,t){for(var i in t){var n=t[i];this.updateGridWithItemMovement(e,n,n.x,n.y,n.width,n.height)}},getUpdatedMovedItems:function(e,t,i,n,r,o,u,d){var a=this;return e.forEach(function(e){var l=a.updateMovedItem(e,u,d);if(key===t){var h=s({},l.position,{ending:"px",topPx:i,leftPx:n,widthPx:r,heightPx:o}),c=a.getItemPositionStyles(d,l.styles,h);l.position=s({},h),l.styles=s({},c)}return l})},getUpdatedGridSizeItems:function(e,t,i){var n=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=t.renderMode,u=i.gridRows,d=i.gridColumns,a=i.gridHeight,l=i.gridWidth;return e.map(function(e){if(!(r.indexOf(e.id)>-1)){var i=n.getItemPosition(l,a,u,d,e.width,e.height,e.x,e.y,o);return s({},e,{position:i,styles:n.getItemPositionStyles(t,e.styles,i)})}})},getGridBoundaries:function(e){return{leftBoundary:0,rightBoundary:e.gridWidth,topBoundary:0,bottomBoundary:e.gridHeight}},getItemSizing:function(e,t){var i=t.gridWidth,n=t.gridHeight,r=e.width,o=e.height;return{itemWidthPx:r*(i/gridColumns),itemHeightPx:o*(n/gridRows)}},calculateGridMatrixSize:function(e,t,i){var n=t.itemsCanResizeGrid,r=t.resizeGridDirections,o=i.gridRows,s=i.gridColumns,u=n&&"y"!==r,d=n&&"x"!==r;if(!u&&!d)return{rows:o,columns:s};var a=0,l=0;return e.forEach(function(e){var t=e.x+e.width,i=e.y+e.height;t>l&&(l=t),i>a&&(a=i)}),{rows:d?Math.max(a,o):o,columns:u?Math.max(l,s):s}},calculateGridSize:function(e,t,i,n){var r=t.gridRows,o=t.gridColumns;return{newGridWidth:e.widthPx/o*n,newGridHeight:e.heightPx/r*i}},calculateMovementChange:function(e,t,i,n){var r=t.itemsCanResizeGrid,o=r&&"y"!==t.resizeGridDirections,s=r&&"x"!==t.resizeGridDirections,u=i.widthPx/t.gridColumns,d=i.heightPx/t.gridRows,a=n.currentMouseX-n.initialMouseX,l=n.currentMouseY-n.initialMouseY,h=n.initialLeft+a,c=n.initialTop+l,f=Math.round(h/u),g=Math.round(c/d);return f<0?f=0:f+1>t.gridColumns&&!o&&(f=t.gridColumns-1),g<0?g=0:g+1>t.gridRows&&!s&&(g=t.gridRows-1),{newX:f,newY:g,newLeftPx:h,newTopPx:c}},calculateResizeChange:function(e,t,i,n){var r=i.widthPx/t.gridColumns,o=i.heightPx/t.gridRows,s=n.currentMouseX-n.initialMouseX,u=n.currentMouseY-n.initialMouseY,d=n.initialWidth+s,a=n.initialHeight+u,l=Math.round(d/r),h=Math.round(a/o);return d<r&&(l=1,d=r),a<o&&(h=1,a=o),{newWidthPx:d,newHeightPx:a,newWidth:l,newHeight:h,newLeftPx:e.position.leftPx,newTopPx:e.position.topPx}},calculatePositionChange:function(e,t){var i=t.gridSizing,n=t.gridOptions,r=i.widthPx/n.gridColumns,o=i.heightPx/n.gridRows;return{newWidthPx:Math.round(r*e.width),newHeightPx:Math.round(o*e.height),newLeftPx:Math.round(r*e.x),newTopPx:Math.round(o*e.y),newX:e.x,newY:e.y,newWidth:e.width,newHeight:e.height}},getNoMovementResult:function(e,t,i){var n=s({},t,{position:s({},t.position,{ending:"px",topPx:i.newTopPx,leftPx:i.newLeftPx,widthPx:i.newWidthPx,heightPx:i.newHeightPx})}),r=e.items.map(function(e){return e.id==n.id?n:e});return{success:!0,grid:e.grid,updatedItems:r,targetItem:n,gridSizing:e.gridSizing,movementChange:i,itemsMoved:!1}},itemHasMoved:function(e,t){return t.newX!=e.x||t.newY!=e.y},itemHasResized:function(e,t){return t.newWidth!==e.width||t.newHeight!==e.height},checkProposedGridSizing:function(e,t,i){var n=e.gridOptions,o=n.resizeGridDirections!==r.resizeOptions.y,s=n.resizeGridDirections!==r.resizeOptions.x;if(!o&&t!==n.gridColumns||n.gridColumns<1)throw"Invalid grid column proposition from algorithm";if(!s&&i!==n.gridRows||n.gridRows<1)throw"Invalid grid row proposition from algorithm"},getPlaceholderStyles:function(e){return s({},r.defaultPlaceholderStyles,{left:"".concat(e.leftPx,"px"),top:"".concat(e.topPx,"px"),width:"".concat(e.widthPx,"px"),height:"".concat(e.heightPx,"px")})},addItemToGrid:function(e,t){var i={newX:e.x,newY:e.y,newWidth:e.width,newHeight:e.height,newTopPx:e.position.topPx,newLeftPx:e.position.leftPx,newWidthPx:e.position.widthPx,newHeightPx:e.position.heightPx};return this.onItemMovement(e,t,i)},movementIsWithinBounds:function(e,t){var i=t.gridColumns,n=t.gridRows,r=t.itemsCanResizeGrid,o=t.resizeGridDirections,s=e.newX,u=e.newY,d=e.newWidth,a=e.newHeight;return(r&&"y"!==o||s+d<=i)&&(r&&"x"!==o||u+a<=n)},onItemMovement:function(e,t,i){var n=this,r=t.gridOptions.renderMode,o=t.gridOptions,u=this.getNoMovementResult(t,e,i),d=s({},e);if(!this.movementIsWithinBounds(i,o))return u;var a=o.algo.run(t,d,i.newX,i.newY,i.newWidth,i.newHeight);if(!a.success)return u;var l=a.gridColumns!==o.gridColumns||a.gridRows!==o.gridRows,h=t.gridSizing.widthPx,c=t.gridSizing.heightPx;if(l){this.checkProposedGridSizing(t,a.gridColumns,a.gridRows);var f=this.calculateGridSize(t.gridSizing,o,a.gridRows,a.gridColumns);h=f.newGridWidth,c=f.newGridHeight}var g=Object.keys(a.itemsToMove).map(function(e){var t=a.itemsToMove[e],u=n.getItemPosition(h,c,a.gridRows,a.gridColumns,t.width,t.height,t.x,t.y,r);if(t.id===d.id){var l=n.getPlaceholderStyles(u);t.meta=s({},t.meta,{placeholderStyles:l}),t.position=s({},t.position,{ending:"px",topPx:i.newTopPx,leftPx:i.newLeftPx,widthPx:i.newWidthPx,heightPx:i.newHeightPx}),t.styles=n.getItemPositionStyles(o,t.styles,t.position),console.log(t.styles)}else t.position=u,t.styles=n.getItemPositionStyles(o,t.styles,u);return t});return{success:a.success,grid:t.grid,updatedItems:g,itemsMoved:Object.keys(a.itemsToMove).length>1,targetItem:d,movementChange:i,gridSizing:{gridRows:a.gridRows,gridColumns:a.gridColumns,heightPx:c,widthPx:h}}},onItemPositionChanged:function(e,t,i){var n=this.calculatePositionChange(e,i);return this.positionHasChanged(e,t)?this.onItemMovement(t,i,n):this.getNoMovementResult(i,t,n)},positionHasChanged:function(e,t){return e.x!==t.x||e.y!==t.y||e.width!==t.width||e.height!==t.height},onItemDragStart:function(e){if(e.glued)return{item:e,success:!1};var t=this.getPlaceholderStyles(e.position);return{item:s({},e,{meta:s({},e.meta,{isDragging:!0,placeholderStyles:t})}),success:!0}},onItemDrag:function(e,t,i){var n=s({},this.calculateMovementChange(e,t.gridOptions,t.gridSizing,i),{newWidth:e.width,newHeight:e.height,newWidthPx:e.position.widthPx,newHeightPx:e.position.heightPx});return!e.meta.isDragging||e.glued?this.getNoMovementResult(t,e,n):this.itemHasMoved(e,n)?this.onItemMovement(e,t,n):this.getNoMovementResult(t,e,n)},onItemDragStop:function(e,t,i,n,r,o){var u=e.width,d=e.height,a=e.x,l=e.y,h=r.gridRows,c=r.gridColumns,f=r.renderMode,g=s({},e.meta,{isDragging:!1}),m=this.getItemPosition(i,n,h,c,u,d,a,l,f);return s({},e,{position:m,styles:this.getItemPositionStyles(r,e.styles,m),meta:g})},onItemResizeStart:function(e){return e.glued?{item:e,success:!1}:{item:s({},e,{meta:s({},e.meta,{isResizing:!0})}),success:!0}},onItemResize:function(e,t,i){var n=s({},this.calculateResizeChange(e,t.gridOptions,t.gridSizing,i),{newX:e.x,newY:e.y,newLeftPx:e.position.leftPx,newTopPx:e.position.topPx});return!e.meta.isResizing||e.glued?this.getNoMovementResult(t,e,n):this.itemHasResized(e,n)?this.onItemMovement(e,t,n):this.getNoMovementResult(t,e,n)},onItemResizeStop:function(e,t,i,n,r,o){var u=e.width,d=e.height,a=e.x,l=e.y,h=r.gridRows,c=r.gridColumns,f=r.renderMode,g=s({},e.meta,{isResizing:!1}),m=this.getItemPosition(i,n,h,c,u,d,a,l,f);return s({},e,{position:m,styles:this.getItemPositionStyles(r,e.styles,m),meta:g})},updateGridWithItemMovement:function(e,t,i,n,r,o){var s=t.id,u=t.x,d=t.y,a=t.width,l=t.height;this.ensureGridHasRow(e,d),this.setGridWithValue(e,s,i,n,r,o,void 0,!1),this.setGridWithValue(e,s,u,d,a,l,t,!0)},updateGridWithItem:function(e,t){var i=t.id,n=t.x,r=t.y,o=t.width,s=t.height;this.setGridWithValue(e,i,n,r,o,s,t,!0)},removeGridItem:function(e,t,i,n,r){var o=this,u=i.id,d=i.x,a=i.y,l=i.width,h=i.height,c=r.widthPx,f=r.heightPx,g=n.renderMode;this.ensureGridHasRow(t,a),this.setGridWithValue(t,u,d,a,l,h,void 0,!0);var m=n.algo.onGridItemRemoved(i,t,n);return{updatedItems:e.map(function(e){var t=m.find(function(t){return t.id===e.id});if(!t)return null;var i=t.x,r=t.y,u=t.width,d=t.height,a=s({},e,{x:i,y:r,width:u,height:d}),l=o.getItemPosition(c,f,n.gridRows,n.gridColumns,u,d,i,r,g);return a.position=l,a.styles=o.getItemPositionStyles(n,a.styles,l),a}).filter(function(e){return null!=e})}},ensureGridHasRow:function(e,t){e[t]||(e[t]=[])},setGridWithValue:function(e,t,i,r,o,s,u){for(var d=arguments.length>7&&void 0!==arguments[7]&&arguments[7],a=r;a<r+s;a++)for(var l=i;l<i+o;l++){var h=e[a][l];n.default.isDefined(h)&&h.id!=t&&!d||(e[a][l]=u)}},getItemPositionStyles:function(e,t,i){var n=t||{},r=(n.transform,n.left,n.top,o(n,["transform","left","top"]));return"%"===i.ending?s({},r,{left:"".concat(i.leftPct,"%"),top:"".concat(i.topPct,"%"),width:"".concat(i.widthPct,"%"),height:"".concat(i.heightPct,"%")}):e.enableCSS3?s({},r,{width:"".concat(i.widthPx,"px"),height:"".concat(i.heightPx,"px"),transform:"translate(".concat(i.leftPx,"px, ").concat(i.topPx,"px)")}):s({},r,{left:"".concat(i.leftPx,"px"),top:"".concat(i.topPx,"px"),width:"".concat(i.widthPx,"px"),height:"".concat(i.heightPx,"px")})},getGridXY:function(e,t,i){var n=e.gridWidth,r=e.gridHeight,o=e.gridRows,s=e.gridColumns;return{x:this.getGridPosition(n,i,s),y:this.getGridPosition(r,t,o)}},getGridWH:function(e,t,i,n,r){var o=r.gridRows,s=r.gridColumns;return{width:this.getGridPosition(e,i,s),height:this.getGridPosition(t,n,o)}},getGridPosition:function(e,t,i){return Math.max(1,Math.round(t/e*i))},getBoundaryLimitedSizing:function(e,t,i,n,o,s){var u=s.resizeGridDirections,d=s.itemsCanResizeGrid,a=o.rightBoundary,l=o.bottomBoundary,h=d&&u!==r.resizeOptions.y,c=d&&u!==r.resizeOptions.x;return{widthPx:h?i:Math.min(i,a-e),heightPx:c?n:Math.min(n,l-t)}}}},"./src/helpers.js":
/*!************************!*\
  !*** ./src/helpers.js ***!
  \************************/
/*! exports provided: default */function(e,t,i){"use strict";i.r(t);t.default={isDefined:function(e){return void 0!==e&&null!=e},objIsInArray:function(e,t,i){var n=t[i];return null!=e.find(function(e){return e[i]===n})}}},"./src/options.js":
/*!************************!*\
  !*** ./src/options.js ***!
  \************************/
/*! exports provided: renderModeType, resizeOptions, defaultItemOptions, defaultGridOptions, defaultPlaceholderStyles */function(e,t,i){"use strict";i.r(t),i.d(t,"renderModeType",function(){return n}),i.d(t,"resizeOptions",function(){return r}),i.d(t,"defaultItemOptions",function(){return o}),i.d(t,"defaultGridOptions",function(){return u}),i.d(t,"defaultPlaceholderStyles",function(){return s});var n={flex:"flex",fixed:"fixed"},r={none:"none",x:"x",y:"y",both:"both"},o={x:0,y:0,width:1,height:1,classes:[],glued:!1,visible:!0,canResize:!0,displayResize:!0,position:{topPx:0,leftPx:0,topPct:0,leftPct:0,widthPx:0,heightPx:0,widthPct:0,heightPct:0,ending:"px"},meta:{isDragging:!1}},s={position:"absolute",border:"2px dashed grey",zIndex:-1},u={gridColumns:12,gridRows:12,width:"100%",height:"100%",itemClassName:"grid-item",classes:[],renderMode:n.flex,stickyElements:!0,itemsCanResizeGrid:!0,resizeGridDirections:r.y,useTransition:!0,transitionDuration:600,onTransitionComplete:function(e,t,i){},onAllTransitionsComplete:function(e,t,i){},resizeClassName:"snap-resize-handle",enableCSS3:!0,algorithm:null}}})},e.exports=n()},function(e,t,i){var n;window,n=function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s="./src/helpers.js")}({"./src/helpers.js":
/*!************************!*\
  !*** ./src/helpers.js ***!
  \************************/
/*! exports provided: default */function(e,t,i){"use strict";i.r(t);t.default={isDefined:function(e){return void 0!==e&&null!=e},objIsInArray:function(e,t,i){var n=t[i];return null!=e.find(function(e){return e[i]===n})}}}})},e.exports=n()}])});